# Load utility functions.
. "$HOME/.resources/shell/scripts/utils.sh"

# Load chezmoi edit functions.
. "$HOME/.resources/shell/scripts/chezmoi-edit.sh"

# Initialize zsh completion system.
autoload -Uz compinit
compinit -C

# Init tools.
. "$HOME/.resources/homebrew/init.sh"
. "$HOME/.resources/fzf/init.sh"
. "$HOME/.resources/zoxide/init.sh"
eval "$(direnv hook zsh)"


# Configure zsh.
setopt autocd
setopt auto_pushd
setopt extended_history
setopt histappend
setopt hist_ignore_all_dups
setopt hist_reduce_blanks
setopt long_list_jobs
# setopt no_beep
setopt pushd_ignore_dups
setopt share_history

# Aliases.
alias mommy="git"
alias please="sudo"
alias v="nvim"
alias vim="nvim"
alias vo="vim \"$OBSIDIAN_VAULT_DIR\""


if is_installed eza; then
    alias ls="eza"
    alias ll="eza -a -l --git-repos  --no-permissions --no-user -o"
fi

# Interactive shell configuration
if is_interactive_shell; then
    # Autostart tmux.
    . "$XDG_CONFIG_HOME/tmux/tmux_autostart.sh"
    # Enable starship.
    . "$XDG_CONFIG_HOME/starship/init.sh"
fi


# Load and configure bun.
[ -s "$HOME/.bun/_bun" ] && source "$HOME/.bun/_bun"

# Load and init fnm.
eval "$(fnm env --use-on-cd --shell zsh)"
